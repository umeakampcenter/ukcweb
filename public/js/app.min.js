let umeakampcenter=window.umeakampcenter||{};umeakampcenter.menu=(function(){let pub={};pub.init=function($button,$container){$button.click(function(){$container.slideToggle()})};return pub}());jQuery(document).ready(function($){function SchedulePlan(element){this.element=element;this.timeline=this.element.find('.timeline');this.timelineItems=this.timeline.find('li');this.timelineStart=getScheduleTimestamp(this.timelineItems.eq(0).text());this.timelineUnitDuration=getScheduleTimestamp(this.timelineItems.eq(1).text())-getScheduleTimestamp(this.timelineItems.eq(0).text());this.eventsWrapper=this.element.find('.events');this.eventsGroup=this.eventsWrapper.find('.events-group');this.singleEvents=this.eventsGroup.find('.single-event');this.eventSlotHeight=this.eventsGroup.eq(0).children('.top-info').outerHeight();this.initSchedule()}
SchedulePlan.prototype.initSchedule=function(){this.singleEvents.each(function(){var durationLabel='<span class="event-date">'+$(this).data('start')+' - '+$(this).data('end')+'</span>';$(this).prepend($(durationLabel))});this.scheduleReset()};SchedulePlan.prototype.scheduleReset=function(){var mq=this.mq();if(mq=='desktop'&&!this.element.hasClass('js-full')){this.eventSlotHeight=this.eventsGroup.eq(0).children('.top-info').outerHeight();this.element.addClass('js-full');this.placeEvents()}else if(mq=='mobile'&&this.element.hasClass('js-full')){this.element.removeClass('js-full loading');this.eventsGroup.children('ul').add(this.singleEvents).removeAttr('style');this.eventsWrapper.children('.grid-line').remove()}else{this.element.removeClass('loading')}};SchedulePlan.prototype.placeEvents=function(){var self=this;this.singleEvents.each(function(){var start=getScheduleTimestamp($(this).attr('data-start')),duration=getScheduleTimestamp($(this).attr('data-end'))-start;var eventTop=self.eventSlotHeight*(start-self.timelineStart)/self.timelineUnitDuration,eventHeight=self.eventSlotHeight*duration/self.timelineUnitDuration;$(this).css({top:(eventTop-1)+'px',height:(eventHeight+1)+'px'})});this.element.removeClass('loading')};SchedulePlan.prototype.mq=function(){return window.getComputedStyle(this.element.get(0),'::before').getPropertyValue('content').replace(/["']/g,'')};var schedules=$('.cd-schedule');var objSchedulesPlan=[],windowResize=!1;if(schedules.length>0){schedules.each(function(){objSchedulesPlan.push(new SchedulePlan($(this)))})}
$(window).on('resize',function(){if(!windowResize){windowResize=!0;(!window.requestAnimationFrame)?setTimeout(checkResize):window.requestAnimationFrame(checkResize)}});function checkResize(){objSchedulesPlan.forEach(function(element){element.scheduleReset()});windowResize=!1}
function getScheduleTimestamp(time){time=time.replace(/ /g,'');var timeArray=time.split(':');return parseInt(timeArray[0])*60+parseInt(timeArray[1])}})